<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="narrator">
<title>Narrate Echarts Plots • narrator</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.5/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.5/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.5/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Narrate Echarts Plots">
<meta property="og:description" content="narrator">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">narrator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/descriptive.html">Descriptive Narratives</a>
    <a class="dropdown-item" href="../articles/echarts.html">Narrate Echarts Plots</a>
    <a class="dropdown-item" href="../articles/formatting.html">Formatting Output</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/denisabd/narrator/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="echarts_files/htmlwidgets-1.6.1/htmlwidgets.js"></script><script src="echarts_files/echarts4r-4.8.0/echarts-en.min.js"></script><script src="echarts_files/echarts4r-4.8.0/ecStat.min.js"></script><script src="echarts_files/echarts4r-4.8.0/dataTool.min.js"></script><script src="echarts_files/echarts4r-binding-0.4.4/echarts4r.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Narrate Echarts Plots</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/denisabd/narrator/blob/HEAD/vignettes/echarts.Rmd" class="external-link"><code>vignettes/echarts.Rmd</code></a></small>
      <div class="d-none name"><code>echarts.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://denisabd.github.io/narrator/">narrator</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://echarts4r.john-coene.com/" class="external-link">echarts4r</a></span><span class="op">)</span></span></code></pre></div>
<p>Adding narratives helps to extract insights from the data, improve
your web applications in Shiny or other framework or reporting in
Rmarkdown or Quarto. You can also build more compelling stories together
with your plots by adding the text narrative to it.</p>
<p>Here we will use <a href="https://echarts4r.john-coene.com" class="external-link">echarts4r</a> by John Coene, one
of the best visualization packages build on top of Apache Echarts.</p>
<div class="section level2">
<h2 id="simple-plots">Simple Plots<a class="anchor" aria-label="anchor" href="#simple-plots"></a>
</h2>
<p>Let’s create a bar plot out of the <code>sales</code> data:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">barplot</span> <span class="op">&lt;-</span> <span class="va">sales</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Region</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>Sales <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">Sales</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">echarts4r</span><span class="fu">::</span><span class="fu"><a href="http://echarts4r.john-coene.com/reference/init.html" class="external-link">e_chart</a></span><span class="op">(</span><span class="va">Region</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">echarts4r</span><span class="fu">::</span><span class="fu"><a href="http://echarts4r.john-coene.com/reference/e_bar.html" class="external-link">e_bar</a></span><span class="op">(</span><span class="va">Sales</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">echarts4r</span><span class="fu">::</span><span class="fu"><a href="http://echarts4r.john-coene.com/reference/e-tooltip.html" class="external-link">e_tooltip</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">barplot</span></span></code></pre></div>
<div class="echarts4r html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-6a19d929463f83b7433e" style="width:100%;height:500px;"></div>
<script type="application/json" data-for="htmlwidget-6a19d929463f83b7433e">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"yAxis":[{"show":true}],"xAxis":[{"data":["ASPAC","EMEA","LATAM","NA"],"type":"category","boundaryGap":true}],"legend":{"data":["Sales"]},"series":[{"data":[{"value":["ASPAC"," 3575921"]},{"value":["EMEA","12376976"]},{"value":["LATAM"," 3080286"]},{"value":["NA","16359589"]}],"name":"Sales","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d"}],"tooltip":{"trigger":"item"}},"dispose":true},"evals":[],"jsHooks":[]}</script><p>We can extract the underlying data from a plot object using
<code><a href="http://echarts4r.john-coene.com/reference/e_get_data.html" class="external-link">echarts4r::e_get_data()</a></code> function and convert it to tibble
which will be suitable for our narrative extraction.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bar_narrative</span> <span class="op">&lt;-</span> <span class="va">barplot</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">echarts4r</span><span class="fu">::</span><span class="fu"><a href="http://echarts4r.john-coene.com/reference/e_get_data.html" class="external-link">e_get_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map_dfr.html" class="external-link">map_df</a></span><span class="op">(</span><span class="va">bind_rows</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/narrate_descriptive.html">narrate_descriptive</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">bar_narrative</span></span>
<span><span class="co">#&gt; $`Total Sales`</span></span>
<span><span class="co">#&gt; Total Sales across all Regions is 35.4 M.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`Region by Sales`</span></span>
<span><span class="co">#&gt; Outlying Regions by Sales are NA (16.4 M, 46.2 %), EMEA (12.4 M, 35 %).</span></span></code></pre></div>
<p>Then we can add this narrative to the plot with
<code><a href="http://echarts4r.john-coene.com/reference/graphic.html" class="external-link">echarts4r::e_text_g()</a></code></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bar_narrative</span> <span class="op">&lt;-</span> <span class="va">bar_narrative</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span>use.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"\n"</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">barplot</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">echarts4r</span><span class="fu">::</span><span class="fu"><a href="http://echarts4r.john-coene.com/reference/graphic.html" class="external-link">e_text_g</a></span><span class="op">(</span></span>
<span>    style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      text <span class="op">=</span> <span class="va">bar_narrative</span>,</span>
<span>      fontSize <span class="op">=</span> <span class="fl">16</span></span>
<span>    <span class="op">)</span>,</span>
<span>    left <span class="op">=</span> <span class="st">"2%"</span>,</span>
<span>    top <span class="op">=</span> <span class="st">"3%"</span>,</span>
<span>    rotation <span class="op">=</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="echarts4r html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-bf40ead38b54a13412cf" style="width:100%;height:500px;"></div>
<script type="application/json" data-for="htmlwidget-bf40ead38b54a13412cf">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"yAxis":[{"show":true}],"xAxis":[{"data":["ASPAC","EMEA","LATAM","NA"],"type":"category","boundaryGap":true}],"legend":{"data":["Sales"]},"series":[{"data":[{"value":["ASPAC"," 3575921"]},{"value":["EMEA","12376976"]},{"value":["LATAM"," 3080286"]},{"value":["NA","16359589"]}],"name":"Sales","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d"}],"tooltip":{"trigger":"item"},"graphic":{"style":{"text":"Total Sales across all Regions is 35.4 M. \nOutlying Regions by Sales are NA (16.4 M, 46.2 %), EMEA (12.4 M, 35 %). \n","fontSize":16},"left":"2%","top":"3%","rotation":0,"type":"text","style.1":{"text":"Total Sales across all Regions is 35.4 M. \nOutlying Regions by Sales are NA (16.4 M, 46.2 %), EMEA (12.4 M, 35 %). \n","fontSize":16},"left.1":"2%","top.1":"3%","rotation.1":0}},"dispose":true},"evals":[],"jsHooks":[]}</script><p>Same can be done for scatter plot and pie chart, for scatter
<code><a href="../reference/narrate_descriptive.html">narrate_descriptive()</a></code> will take on the the first numeric
measure.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scatterplot</span> <span class="op">&lt;-</span> <span class="va">sales</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Region</span>, <span class="va">Product</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>Sales <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">Sales</span><span class="op">)</span>,</span>
<span>            Quantity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">Quantity</span><span class="op">)</span>,</span>
<span>            Price <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Price</span><span class="op">)</span>, .groups <span class="op">=</span> <span class="st">"keep"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">echarts4r</span><span class="fu">::</span><span class="fu"><a href="http://echarts4r.john-coene.com/reference/init.html" class="external-link">e_chart</a></span><span class="op">(</span><span class="va">Sales</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">echarts4r</span><span class="fu">::</span><span class="fu"><a href="http://echarts4r.john-coene.com/reference/scatter.html" class="external-link">e_scatter</a></span><span class="op">(</span><span class="va">Quantity</span>, <span class="va">Price</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">echarts4r</span><span class="fu">::</span><span class="fu"><a href="http://echarts4r.john-coene.com/reference/e-tooltip.html" class="external-link">e_tooltip</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">scatterplot</span></span></code></pre></div>
<div class="echarts4r html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-4b36588d6b91eecc69e7" style="width:100%;height:500px;"></div>
<script type="application/json" data-for="htmlwidget-4b36588d6b91eecc69e7">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"yAxis":[{"show":true}],"xAxis":[{"type":"value"}],"legend":{"data":["ASPAC","ASPAC","ASPAC","ASPAC","ASPAC","ASPAC","EMEA","EMEA","EMEA","EMEA","EMEA","EMEA","LATAM","LATAM","LATAM","LATAM","LATAM","LATAM","NA","NA","NA","NA","NA","NA"]},"series":[{"data":[{"value":[335773,2371,146.661764705882,10.5]}],"name":"ASPAC","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[269809.48,1779,149.825862068966,10.5]}],"name":"ASPAC","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[625465.46,4809,139.766881028939,10.5]}],"name":"ASPAC","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[1329683.4,9385,142.959240069085,10.5]}],"name":"ASPAC","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[459723.76,3490,133.236666666667,10.5]}],"name":"ASPAC","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[555465.86,3852,144.9128,10.5]}],"name":"ASPAC","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[1016613.42,5901,181.253174603175,10.5]}],"name":"EMEA","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[870834.68,5212,176.265367965368,10.5]}],"name":"EMEA","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[2324551.78,12742,190.079581151832,10.5]}],"name":"EMEA","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[4425502.24,24427,185.361342155009,10.5]}],"name":"EMEA","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[1895536.94,10857,183.044612068966,10.5]}],"name":"EMEA","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[1843936.7,10540,180.532527472527,10.5]}],"name":"EMEA","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[229578.8,1652,145.784403669725,10.5]}],"name":"LATAM","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[213367.34,1379,155.944444444444,10.5]}],"name":"LATAM","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[608860.1,4187,146.627075812274,10.5]}],"name":"LATAM","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[1039080.38,7966,136.160761904762,10.5]}],"name":"LATAM","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[465368.36,3430,142.891479820628,10.5]}],"name":"LATAM","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[524031.5,3573,149.077477477477,10.5]}],"name":"LATAM","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[1527378.64,8417,187.204201680672,10.5]}],"name":"NA","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[1078301.14,5992,187.516216216216,10.5]}],"name":"NA","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[3080551.34,16805,187.618453188602,10.5]}],"name":"NA","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[5616827.2,31591,183.462276785714,10.5]}],"name":"NA","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[2445533,13415,183.396729776248,10.5]}],"name":"NA","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"},{"data":[{"value":[2610997.54,14021,189.823731587561,10.5]}],"name":"NA","type":"scatter","symbol":null,"coordinateSystem":"cartesian2d","yAxisIndex":0,"xAxisIndex":0,"symbolSize":"function(data){ return data[3];}"}],"tooltip":{"trigger":"item"}},"dispose":true},"evals":["opts.series.0.symbolSize","opts.series.1.symbolSize","opts.series.2.symbolSize","opts.series.3.symbolSize","opts.series.4.symbolSize","opts.series.5.symbolSize","opts.series.6.symbolSize","opts.series.7.symbolSize","opts.series.8.symbolSize","opts.series.9.symbolSize","opts.series.10.symbolSize","opts.series.11.symbolSize","opts.series.12.symbolSize","opts.series.13.symbolSize","opts.series.14.symbolSize","opts.series.15.symbolSize","opts.series.16.symbolSize","opts.series.17.symbolSize","opts.series.18.symbolSize","opts.series.19.symbolSize","opts.series.20.symbolSize","opts.series.21.symbolSize","opts.series.22.symbolSize","opts.series.23.symbolSize"],"jsHooks":[]}</script><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scatterplot</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">echarts4r</span><span class="fu">::</span><span class="fu"><a href="http://echarts4r.john-coene.com/reference/e_get_data.html" class="external-link">e_get_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map_dfr.html" class="external-link">map_df</a></span><span class="op">(</span><span class="va">bind_rows</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/narrate_descriptive.html">narrate_descriptive</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`Total Sales`</span></span>
<span><span class="co">#&gt; Total Sales across all Regions is 35.4 M.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`Region by Sales`</span></span>
<span><span class="co">#&gt; Outlying Regions by Sales are NA (16.4 M, 46.2 %), EMEA (12.4 M, 35 %).</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`NA by Product`</span></span>
<span><span class="co">#&gt; In NA, significant Products by Sales are Food and Beverage (5.6 M, 34.3 %), Electronics (3.1 M, 18.8 %).</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`EMEA by Product`</span></span>
<span><span class="co">#&gt; In EMEA, significant Products by Sales are Food and Beverage (4.4 M, 35.8 %), Electronics (2.3 M, 18.8 %).</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`Product by Sales`</span></span>
<span><span class="co">#&gt; Outlying Products by Sales are Food and Beverage (12.4 M, 35.1 %), Electronics (6.6 M, 18.8 %).</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">piechart</span> <span class="op">&lt;-</span> <span class="va">sales</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Product</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>Sales <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">Sales</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">echarts4r</span><span class="fu">::</span><span class="fu"><a href="http://echarts4r.john-coene.com/reference/init.html" class="external-link">e_chart</a></span><span class="op">(</span><span class="va">Product</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">echarts4r</span><span class="fu">::</span><span class="fu"><a href="http://echarts4r.john-coene.com/reference/e_pie.html" class="external-link">e_pie</a></span><span class="op">(</span><span class="va">Sales</span>, radius <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"50%"</span>, <span class="st">"70%"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">echarts4r</span><span class="fu">::</span><span class="fu"><a href="http://echarts4r.john-coene.com/reference/e-tooltip.html" class="external-link">e_tooltip</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">piechart</span></span></code></pre></div>
<div class="echarts4r html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-df2b0f06a06f1703461d" style="width:100%;height:500px;"></div>
<script type="application/json" data-for="htmlwidget-df2b0f06a06f1703461d">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"legend":{"data":["Baby","Clothing","Electronics","Food and Beverage","Home","Tools"]},"series":[{"name":"Sales","type":"pie","radius":["50%","70%"],"data":[{"value":3109343.86,"name":"Baby"},{"value":2432312.64,"name":"Clothing"},{"value":6639428.68,"name":"Electronics"},{"value":12411093.22,"name":"Food and Beverage"},{"value":5266162.06,"name":"Home"},{"value":5534431.6,"name":"Tools"}]}],"tooltip":{"trigger":"item"}},"dispose":true},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">piechart</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">echarts4r</span><span class="fu">::</span><span class="fu"><a href="http://echarts4r.john-coene.com/reference/e_get_data.html" class="external-link">e_get_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map_dfr.html" class="external-link">map_df</a></span><span class="op">(</span><span class="va">bind_rows</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/narrate_descriptive.html">narrate_descriptive</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`Total Sales`</span></span>
<span><span class="co">#&gt; Total Sales across all Products is 35.4 M.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`Product by Sales`</span></span>
<span><span class="co">#&gt; Outlying Products by Sales are Food and Beverage (12.4 M, 35.1 %), Electronics (6.6 M, 18.8 %).</span></span></code></pre></div>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Denis Abdullin.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
